{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\kittu\\\\Temp\\\\stackit\\\\src\\\\admin\\\\pages\\\\AnswerQuestion.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useParams, useNavigate, Link } from 'react-router-dom';\nimport { database } from '../../firebase';\nimport { ref, push, serverTimestamp, get } from 'firebase/database';\nimport { useAuth } from '../../contexts/AuthContext';\nimport ReactQuill from 'react-quill';\nimport 'react-quill/dist/quill.snow.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst modules = {\n  toolbar: [['bold', 'italic', 'strike'], [{\n    'list': 'ordered'\n  }, {\n    'list': 'bullet'\n  }], ['link', 'image'], [{\n    'align': []\n  }], ['clean']],\n  clipboard: {\n    matchVisual: false\n  }\n};\nconst formats = ['bold', 'italic', 'strike', 'list', 'bullet', 'link', 'image', 'align'];\nfunction AnswerQuestion() {\n  _s();\n  const {\n    id\n  } = useParams();\n  const {\n    currentUser\n  } = useAuth();\n  const navigate = useNavigate();\n  const [question, setQuestion] = useState(null);\n  const [answerText, setAnswerText] = useState('');\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    if (!id) return;\n    const questionRef = ref(database, `questions/${id}`);\n    get(questionRef).then(snapshot => {\n      if (snapshot.exists()) {\n        setQuestion({\n          id,\n          ...snapshot.val()\n        });\n      } else {\n        setQuestion(null);\n      }\n      setLoading(false);\n    });\n  }, [id]);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    if (!answerText.trim()) {\n      setError('Answer cannot be empty');\n      return;\n    }\n    if (!currentUser) {\n      setError('You must be logged in to submit an answer');\n      return;\n    }\n    const answersRef = ref(database, `questions/${id}/answers`);\n    const answerData = {\n      content: answerText,\n      authorId: currentUser.uid,\n      authorName: currentUser.email,\n      createdAt: serverTimestamp(),\n      votes: 0,\n      voters: {},\n      comments: {}\n    };\n    try {\n      await push(answersRef, answerData);\n      alert('Answer submitted successfully');\n      navigate(`/admin/question/${id}`);\n    } catch (error) {\n      setError('Error submitting answer: ' + error.message);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-4 animate-pulse text-center text-white\",\n      children: \"Loading question...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 12\n    }, this);\n  }\n  if (!question) {\n    return /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"p-4 text-center text-red-600\",\n      children: \"Question not found.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 12\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-pink-900 p-8 flex justify-center\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-3xl w-full bg-gradient-to-br from-purple-800 to-indigo-800 rounded-3xl shadow-xl p-8 animate-fadeIn\",\n      children: [/*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"mb-6\",\n        children: /*#__PURE__*/_jsxDEV(Link, {\n          to: `/admin/question/${id}`,\n          className: \"text-pink-300 hover:underline transition duration-300\",\n          children: \"< Back to question\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-4xl font-extrabold text-white mb-8\",\n        children: question.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"space-y-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"answer\",\n          className: \"block text-lg font-medium text-pink-300\",\n          children: \"Write Your Answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ReactQuill, {\n          id: \"answer\",\n          value: answerText,\n          onChange: setAnswerText,\n          modules: modules,\n          formats: formats,\n          placeholder: \"Write your answer here...\",\n          className: \"bg-white rounded-lg\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-red-400 font-semibold\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-full shadow-lg hover:from-pink-600 hover:to-purple-700 transition duration-300\",\n          children: \"Submit Your Answer\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this), !currentUser && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 p-4 bg-pink-900 bg-opacity-30 rounded-lg text-center text-pink-300 font-medium shadow animate-pulse\",\n        children: \"Please log in to submit an answer.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 93,\n    columnNumber: 5\n  }, this);\n}\n_s(AnswerQuestion, \"B17vjk6EIYi8AncNOhw+c79X+S0=\", false, function () {\n  return [useParams, useAuth, useNavigate];\n});\n_c = AnswerQuestion;\nexport default AnswerQuestion;\nvar _c;\n$RefreshReg$(_c, \"AnswerQuestion\");","map":{"version":3,"names":["React","useState","useEffect","useParams","useNavigate","Link","database","ref","push","serverTimestamp","get","useAuth","ReactQuill","jsxDEV","_jsxDEV","modules","toolbar","clipboard","matchVisual","formats","AnswerQuestion","_s","id","currentUser","navigate","question","setQuestion","answerText","setAnswerText","loading","setLoading","error","setError","questionRef","then","snapshot","exists","val","handleSubmit","e","preventDefault","trim","answersRef","answerData","content","authorId","uid","authorName","email","createdAt","votes","voters","comments","alert","message","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","title","onSubmit","htmlFor","value","onChange","placeholder","type","_c","$RefreshReg$"],"sources":["C:/Users/kittu/Temp/stackit/src/admin/pages/AnswerQuestion.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { useParams, useNavigate, Link } from 'react-router-dom';\r\nimport { database } from '../../firebase';\r\nimport { ref, push, serverTimestamp, get } from 'firebase/database';\r\nimport { useAuth } from '../../contexts/AuthContext';\r\nimport ReactQuill from 'react-quill';\r\nimport 'react-quill/dist/quill.snow.css';\r\n\r\nconst modules = {\r\n  toolbar: [\r\n    ['bold', 'italic', 'strike'],\r\n    [{ 'list': 'ordered'}, { 'list': 'bullet' }],\r\n    ['link', 'image'],\r\n    [{ 'align': [] }],\r\n    ['clean']\r\n  ],\r\n  clipboard: {\r\n    matchVisual: false,\r\n  }\r\n};\r\n\r\nconst formats = [\r\n  'bold', 'italic', 'strike',\r\n  'list', 'bullet',\r\n  'link', 'image',\r\n  'align'\r\n];\r\n\r\nfunction AnswerQuestion() {\r\n  const { id } = useParams();\r\n  const { currentUser } = useAuth();\r\n  const navigate = useNavigate();\r\n\r\n  const [question, setQuestion] = useState(null);\r\n  const [answerText, setAnswerText] = useState('');\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (!id) return;\r\n    const questionRef = ref(database, `questions/${id}`);\r\n    get(questionRef).then(snapshot => {\r\n      if (snapshot.exists()) {\r\n        setQuestion({ id, ...snapshot.val() });\r\n      } else {\r\n        setQuestion(null);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  }, [id]);\r\n\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    setError('');\r\n    if (!answerText.trim()) {\r\n      setError('Answer cannot be empty');\r\n      return;\r\n    }\r\n    if (!currentUser) {\r\n      setError('You must be logged in to submit an answer');\r\n      return;\r\n    }\r\n\r\n    const answersRef = ref(database, `questions/${id}/answers`);\r\n    const answerData = {\r\n      content: answerText,\r\n      authorId: currentUser.uid,\r\n      authorName: currentUser.email,\r\n      createdAt: serverTimestamp(),\r\n      votes: 0,\r\n      voters: {},\r\n      comments: {},\r\n    };\r\n\r\n    try {\r\n      await push(answersRef, answerData);\r\n      alert('Answer submitted successfully');\r\n      navigate(`/admin/question/${id}`);\r\n    } catch (error) {\r\n      setError('Error submitting answer: ' + error.message);\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return <p className=\"p-4 animate-pulse text-center text-white\">Loading question...</p>;\r\n  }\r\n\r\n  if (!question) {\r\n    return <p className=\"p-4 text-center text-red-600\">Question not found.</p>;\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-b from-indigo-900 via-purple-900 to-pink-900 p-8 flex justify-center\">\r\n      <div className=\"max-w-3xl w-full bg-gradient-to-br from-purple-800 to-indigo-800 rounded-3xl shadow-xl p-8 animate-fadeIn\">\r\n        <nav className=\"mb-6\">\r\n          <Link to={`/admin/question/${id}`} className=\"text-pink-300 hover:underline transition duration-300\">\r\n            {\"< Back to question\"}\r\n          </Link>\r\n        </nav>\r\n        <h1 className=\"text-4xl font-extrabold text-white mb-8\">{question.title}</h1>\r\n        <form onSubmit={handleSubmit} className=\"space-y-6\">\r\n          <label htmlFor=\"answer\" className=\"block text-lg font-medium text-pink-300\">\r\n            Write Your Answer\r\n          </label>\r\n          <ReactQuill\r\n            id=\"answer\"\r\n            value={answerText}\r\n            onChange={setAnswerText}\r\n            modules={modules}\r\n            formats={formats}\r\n            placeholder=\"Write your answer here...\"\r\n            className=\"bg-white rounded-lg\"\r\n          />\r\n          {error && <p className=\"text-red-400 font-semibold\">{error}</p>}\r\n          <button\r\n            type=\"submit\"\r\n            className=\"w-full bg-gradient-to-r from-pink-500 to-purple-600 text-white py-4 rounded-full shadow-lg hover:from-pink-600 hover:to-purple-700 transition duration-300\"\r\n          >\r\n            Submit Your Answer\r\n          </button>\r\n        </form>\r\n        {!currentUser && (\r\n          <div className=\"mt-6 p-4 bg-pink-900 bg-opacity-30 rounded-lg text-center text-pink-300 font-medium shadow animate-pulse\">\r\n            Please log in to submit an answer.\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default AnswerQuestion;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}